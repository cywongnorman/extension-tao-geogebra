define(['IMSGlobal/jquery_2_1_1', 'OAT/util/html','geogebra/runtime/js/deployggb'], function($, html, deploy){
    var exercise = this;
    return {
        render : function(id, container, config, assetManager){
            console.log(config);
            var $container = $(container);
            
            $container.append($('<div id="applet_container'+id+'"></div>'));

            var parameters = {"showLogging":true,"id":"ggbApplet6629832","width":config.width,"height":config.height,"showToolBar":true,
                    "showMenuBar":false,"showAlgebraInput":true,"allowStyleBar":false,"showResetIcon":true,
                    "enableLabelDrags":false,"enableShiftDragZoom":true,"enableRightClick":false,"showToolBarHelp":false,
                    "errorDialogsActive":true,"useBrowserForJS":false,
                    "ggbBase64":"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",
                    "language":"en","isPreloader":false,"screenshotGenerator":false,"preventFocus":true,
                    "showSplash":false,"scale":"1","fixApplet":false,"prerelease":false,"playButtonAutoDecide":true,"playButton":false,"canary":false};
            
            exercise.applet = new deploy('5.0', parameters, {"is3D":1});
            applet.setHTML5Codebase({"requirejs":"geogebra/runtime/js/"});
            applet.inject('applet_container'+id);

        },
        resize: function(id, container, config, manager){
            exercise.applet.getAppletObject().setSize(config.width,config.height);
        }
    };
});